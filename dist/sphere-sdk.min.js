window.SphereSDK||function(a){a.SphereSDK=function(b){var c="https://www.sphere.com/auth/#/",d=null,e="sphere_auth_iframe",f=null,g=function(){var c=b.getElementById(e+"_iframe"),d=parseFloat(c.style.width),f=parseFloat(c.style.height),g=a.innerWidth/2-d/2,h=a.innerHeight/2-f/2;c.style.left=g+"px",c.style.top=h+"px"},h=function(c,d,f,h){f=f||0,h=h||0;var i=a.innerWidth/2-f/2,j=a.innerHeight/2-h/2,k=b.createElement("iframe");k.style.width=f+"px",k.style.height=h+"px",k.style.position="absolute",k.style.display=d?"block":"none",k.style.zIndex="10000",k.style.left=i+"px",k.style.top=j+"px",k.frameBorder=0,k.src=c,k.id=e+"_iframe";var l=b.createElement("div");l.style.width="100%",l.style.height="100%",l.style.position="fixed",l.style.display=d?"block":"none",l.style.zIndex="9999",l.style.left=0,l.style.top=0,l.style.background="rgba(0,0,0,0.85)",l.id=e,l.appendChild(k),b.body.appendChild(l),a.addEventListener("resize",g)},i=function(){var c=b.getElementById(e);c&&c.parentNode.removeChild(c),a.removeEventListener("resize",g)},j=function(b,c,e){c=c||0,e=e||0;var f=screen.width/2-c/2,g=screen.height/2-e/2;d=a.open(b,"Sphere","width="+c+", height="+e+", left="+f+", top="+g),a.setTimeout(function(){d.postMessage("ping","*")},2500)},k=a.addEventListener?"addEventListener":"attachEvent",l=a[k],m="attachEvent"===k?"onmessage":"message";return l(m,function(a){if(a.data&&"string"==typeof a.data){var b=JSON.parse(a.data);f&&(f(b),f=null),d?d.close():i()}},!1),{isAuthenticated:function(a){var b=c+"isAuthenticated";h(b,!1),a&&(f=a)},login:function(a){var b=c+"login";j(b,380,600),a&&(f=a)},register:function(a){var b=c+"register";j(b,380,600),a&&(f=a)},logout:function(a){var b=c+"logout";h(b,!1),a&&(f=a)}}}(document)}(window);